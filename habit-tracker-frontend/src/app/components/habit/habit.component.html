<div class="card m-3" style="width: 18rem; height: 25rem;">
  <div class="card-body d-flex flex-column justify-content-between">
    <div>
      <div>
        <h5 *ngIf="state !=2 " class="card-title">{{habit.name}}</h5>
        <input *ngIf="state == 2" [(ngModel)]="name" type="text" class="card-title">
      </div>
      <div class="d-flex flex-row align-items-center justify-content-between">
        <div>
          <h6 *ngIf="state !=3" class="card-subtitle text-muted">{{habit.tracking}}</h6>
          <input *ngIf="state ==3" type="number" style="width: 70%;" [(ngModel)]="tracking">
        </div>
        <div *ngIf="state != 3" [style.visibility]="(state == 1) ? 'visible' : 'hidden'" (click)="enterTracking()" class="btn btn-outline-success btn-sm">Track</div>
        <div *ngIf="state == 3" (click)="cancel()" class="btn btn-outline-warning btn-sm">Cancel</div>
        <div *ngIf="state == 3" (click)="doTracking()" class="btn btn-outline-success btn-sm ms-2">Save</div>
      </div>
    </div>
    <div *ngIf="state != 2">
      <p class="card-text truncate-overflow">{{habit.description}}</p>
    </div>
    <div *ngIf="state == 2">
      <textarea style="width: 100%; line-height: 1.4rem; height: 12.6rem;" [(ngModel)]="description"></textarea>
    </div>
    <div *ngIf="state != 2" class="d-flex justify-content-between">
      <div  [style.visibility]="(state == 1) ? 'visible' : 'hidden'" (click)="enterEdit()" class="btn btn-outline-warning">Edit</div>
    </div>
    <div *ngIf="state == 2" class="d-flex justify-content-between">
      <div>
        <div class="btn btn-outline-success me-2" (click)="doEdit()">Save</div>
        <div class="btn btn-outline-warning" (click)="cancel()">Cancel</div>
      </div>
      <div class="btn btn-outline-danger" (click)="doDelete()">Delete</div>
    </div>
  </div>
</div>

<!-- [style.visibility]="(state == 1) ? 'visible' : 'hidden'" -->
